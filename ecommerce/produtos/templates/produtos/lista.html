{% extends "core/base.html" %}
{% load static %}

{% block title %}Produtos - Ganyk Store{% endblock %}

{% block content %}
<div class="produtos-container">
  <aside class="filtros">
    <h3>Categorias</h3>
    <ul>
      {% for c in categorias %}
        <li><a href="{% url 'lista_produtos' %}?categoria={{ c.nome }}">{{ c.nome }}</a></li>
      {% endfor %}
    </ul>
  </aside>

  <section class="lista-produtos">
    <h2>Resultados{% if q %} para "{{ q }}"{% endif %}{% if categoria %} em {{ categoria }}{% endif %}</h2>

    {% if produtos.exists %}
      <div class="grid">
        {% for p in produtos %}
          <article class="produto-card">
            <a href="#">
              <img src="{{ p.imagem_principal.url }}" alt="{{ p.nome }}">
              <h4>{{ p.nome }}</h4>
              <p class="preco">R$ {{ p.preco }}</p>
            </a>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p>Nenhum produto encontrado.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
